{"slots":{"0":{"name":"Screen","type":{"events":[],"methods":[]}},"1":{"name":"Databank","type":{"events":[],"methods":[]}},"2":{"name":"slot3","type":{"events":[],"methods":[]}},"3":{"name":"slot4","type":{"events":[],"methods":[]}},"4":{"name":"slot5","type":{"events":[],"methods":[]}},"5":{"name":"Screen2","type":{"events":[],"methods":[]}},"6":{"name":"Screen","type":{"events":[],"methods":[]}},"7":{"name":"slot8","type":{"events":[],"methods":[]}},"8":{"name":"slot9","type":{"events":[],"methods":[]}},"9":{"name":"slot10","type":{"events":[],"methods":[]}},"-1":{"name":"unit","type":{"events":[],"methods":[]}},"-3":{"name":"player","type":{"events":[],"methods":[]}},"-2":{"name":"construct","type":{"events":[],"methods":[]}},"-4":{"name":"system","type":{"events":[],"methods":[]}},"-5":{"name":"library","type":{"events":[],"methods":[]}}},"handlers":[{"code":"screeninput = Screen.getScriptOutput()\nscreenoutput = controlleractive .. \",\" .. forward .. \",\" .. backward .. \",\" .. left .. \",\" .. right .. \",\" .. fire .. \",\"\n--system.print(screenoutput)\nif screeninput == lastscreeninput then\n    \nelse\n    if string.sub(screeninput,1,9) == \"NEWSCORE:\" then\n        local newscore = string.sub(screeninput,10,string.len(screeninput))\n        local scorekeys = Databank.getKeyList()\n        local placed = 0\n        for si=1,10 do\n            if placed == 0 then\n                compscore = Databank.getStringValue(tostring(si))\n                if compscore ~= nil and compscore ~= \"\" then\n                    local scorecomponent = string.sub(compscore,string.find(compscore, \":\")+1,string.len(compscore))\n                    if tonumber(newscore) > tonumber(scorecomponent) then\n                        for ri=si,10 do\n                            local shiftkey = Databank.getStringValue(tostring(11 - ri))\n                            if shiftkey ~= nil and shiftkey ~= \"\" then\n                                Databank.setStringValue((11 - ri)+1, shiftkey)\n                            end\n                        end\n                        system.print(\"SAVED New High Score\")\n                        Databank.setStringValue(si, playername..\":\"..tostring(newscore))\n                        placed = 1\n                    end\n                else\n                    system.print(\"SAVED New High Score\")\n                    Databank.setStringValue(si, playername..\":\"..tostring(newscore))\n                    placed = 1\n                end\n            end\n        end\n    end\n    if string.sub(screeninput,1,9) == \"GETSCORES\" then\n        listscores = 1\n        scoreindex = 0\n    end\n    if string.sub(screeninput,1,6) == \"LIGHT:\" then\n        local lightstring = string.sub(screeninput,7,string.len(screeninput))\n        lightr = string.sub(lightstring,1,string.find(lightstring, \":\") - 1)\n        lightstring = string.sub(lightstring,string.find(lightstring, \":\")+1,string.len(lightstring))\n        lightg = string.sub(lightstring,1,string.find(lightstring, \":\") - 1)\n        lightstring = string.sub(lightstring,string.find(lightstring, \":\")+1,string.len(lightstring))\n        lightb = lightstring\n        slot3.setColor(lightr, lightg, lightb)\n        slot4.setColor(lightr, lightg, lightb)\n        slot5.setColor(lightr, lightg, lightb)\n    end\n    lastscreeninput = screeninput\nend\nif listscores == 1 then\n    if scoreindex < 9 then\n        scoreindex = scoreindex + 1\n        local returnscore = Databank.getStringValue(scoreindex)\n        screenoutput = \"HIGHSCORE\"..scoreindex..\":\"..returnscore\n    else\n        listscores = 0\n    end\nend\nScreen.setScriptInput(screenoutput)","filter":{"args":[{"value":"screen"}],"signature":"onTimer(tag)","slotKey":"-1"},"key":"0"},{"code":"\nlocal screencontent1 = [[if not init then\n    highscores = {}\n    for bb1=1,10 do\n        highscores[bb1] = {}\n        for bv1=1,2 do\n            highscores[bb1][bv1] = \"\"\n        end\n    end]]\nlocal screencontent2 = [[]]\nlocal screencontent3 = [[    images = {}\n    for ig1=1,2 do\n        images[ig1] = \"\"\n    end\n    images[1] = \"assets.prod.novaquark.com/66839/23968750-1ea6-47cb-a1b1-e665cf6d03fd.png\"\n    images[2] = \"\"\n    init = true\nend\nfont1 = loadFont(\"Montserrat-Light\", 15)\nlayer1 = createLayer()\nlayer2 = createLayer()\nrx, ry = getResolution()\ncx, cy = getCursor()\ncd = getCursorDown()\ncp = getCursorPressed()\ncr = getCursorReleased()\nscriptoutput = \"\"\nlocal titleimage = loadImage(images[1])\nfont2 = loadFont(\"Play-Bold\",75)\nfont1 = loadFont(\"Play\",25)\naddImage(layer1,titleimage,0,0,rx,ry)\nsetNextShadow(layer1,15,0,0,0,1)\nsetNextFillColor(layer1,1,0.8,0,1)\naddText(layer1,font2,\"UNIVERSE INVADERS\",150,75)\nsetNextShadow(layer1,15,0,0,0,1)\nsetNextFillColor(layer1,1,0.8,0,1)\naddText(layer1,font2,\"LEADERBOARD\",245,150)\nsetNextShadow(layer1,15,0,0,0,1)\nsetNextFillColor(layer1,0,0,0,0.7)\naddBoxRounded(layer1,50,50,rx - 100,ry - 100,15)\nfor ix1=1,9 do\n    setNextShadow(layer1,5,0,0,0,1)\n    setNextFillColor(layer1,1,0.6,0,1)\n    addText(layer1,font1,\"#\"..ix1..\":\",350,(35*ix1)+200)\nend\nfor ix1=1,9 do\n    setNextShadow(layer1,5,0,0,0,1)\n    setNextFillColor(layer1,1,0.6,0,1)\n    addText(layer1,font1,highscores[ix1][1]..\" - \"..highscores[ix1][2],450,(35*ix1)+200)\nend\n]]\n\nfor scores=1,9 do\n    local keyscore = Databank.getStringValue(scores)\n    local keyname = string.sub(keyscore,0,string.find(keyscore,\":\")-1)\n    local keyvalue = string.sub(keyscore,string.find(keyscore,\":\")+1,string.len(keyscore))\n    local addscore = [[\n    highscores[]]..scores..[[][1] = \"]]..keyname..[[\"\n    highscores[]]..scores..[[][2] = \"]]..keyvalue..[[\"]]\n    screencontent2 = screencontent2 .. addscore\nend\n\nScreen2.setRenderScript(screencontent1 .. screencontent2 .. screencontent3)","filter":{"args":[{"value":"screen2"}],"signature":"onTimer(tag)","slotKey":"-1"},"key":"1"},{"code":"player.freeze(true)\nsystem.showHelper(false)\nScreen.activate()\nplayername = player.getName()\nplayerid = player.getId()\nlightr = 0.35\nlightg = 1\nlightb = 0.15\ncontrolleractive = 1\nforward = 0\nleft = 0\nright = 0\nbackward = 0\nfire = 0\nscreenoutput = \"\"\nscreeninput = \"\"\nlastscreeninput = \"\"\ncompscore = 0\nlistscores = 0\nscoreindex = 0\nunit.setTimer(\"screen\",1/30)\nunit.setTimer(\"screen2\",1/20)\nslot3.setColor(lightr, lightg, lightb)\nslot4.setColor(lightr, lightg, lightb)\nslot5.setColor(lightr, lightg, lightb)","filter":{"args":[],"signature":"onStart()","slotKey":"-4"},"key":"2"},{"code":"forward = 1","filter":{"args":[{"value":"forward"}],"signature":"actionStart(action)","slotKey":"-4"},"key":"3"},{"code":"forward = 0","filter":{"args":[{"value":"forward"}],"signature":"actionStop(action)","slotKey":"-4"},"key":"4"},{"code":"fire = 1","filter":{"args":[{"value":"up"}],"signature":"onActionStart(action)","slotKey":"-4"},"key":"5"},{"code":"fire = 0","filter":{"args":[{"value":"up"}],"signature":"onActionStop(action)","slotKey":"-4"},"key":"6"},{"code":"left = 1","filter":{"args":[{"value":"yawleft"}],"signature":"onActionStart(action)","slotKey":"-4"},"key":"7"},{"code":"left = 0","filter":{"args":[{"value":"yawleft"}],"signature":"onActionStop(action)","slotKey":"-4"},"key":"8"},{"code":"right = 1","filter":{"args":[{"value":"yawright"}],"signature":"onActionStart(action)","slotKey":"-4"},"key":"9"},{"code":"right = 0","filter":{"args":[{"value":"yawright"}],"signature":"onActionStop(action)","slotKey":"-4"},"key":"10"},{"code":"backward = 1","filter":{"args":[{"value":"backward"}],"signature":"onActionStart(action)","slotKey":"-4"},"key":"11"},{"code":"backward = 0","filter":{"args":[{"value":"backward"}],"signature":"onActionStop(action)","slotKey":"-4"},"key":"12"},{"code":"controlleractive = 0\nforward = 0\nleft = 0\nright = 0\nbackward = 0\nfire = 0\nscreenoutput = controlleractive .. \",\" .. forward .. \",\" .. backward .. \",\" .. left .. \",\" .. right .. \",\" .. fire .. \",\"\nScreen.setScriptInput(screenoutput)\nScreen.deactivate()\nScreen.activate()\nslot3.setColor(lightr, lightg, lightb)\nslot4.setColor(lightr, lightg, lightb)\nslot5.setColor(lightr, lightg, lightb)\nplayer.freeze(false)","filter":{"args":[],"signature":"onStop()","slotKey":"-4"},"key":"13"}],"methods":[],"events":[]}