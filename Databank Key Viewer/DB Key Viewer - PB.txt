{"slots":{"0":{"name":"screen","type":{"events":[],"methods":[]}},"1":{"name":"databank","type":{"events":[],"methods":[]}},"2":{"name":"slot3","type":{"events":[],"methods":[]}},"3":{"name":"slot4","type":{"events":[],"methods":[]}},"4":{"name":"slot5","type":{"events":[],"methods":[]}},"5":{"name":"slot6","type":{"events":[],"methods":[]}},"6":{"name":"slot7","type":{"events":[],"methods":[]}},"7":{"name":"slot8","type":{"events":[],"methods":[]}},"8":{"name":"slot9","type":{"events":[],"methods":[]}},"9":{"name":"slot10","type":{"events":[],"methods":[]}},"-1":{"name":"unit","type":{"events":[],"methods":[]}},"-3":{"name":"player","type":{"events":[],"methods":[]}},"-2":{"name":"construct","type":{"events":[],"methods":[]}},"-4":{"name":"system","type":{"events":[],"methods":[]}},"-5":{"name":"library","type":{"events":[],"methods":[]}}},"handlers":[{"code":"local screenoutput = screen.getScriptOutput()\nlocal screeninput = \"\"\nif screenoutput == \"\" then\n    screeninput = \"?\"\nelse\n    if screenoutput == \"<\" then\n        --previous key\n        if page > 0 then\n            page = page - 1\n            screeninput = \"KEY: \" .. DBKeys[page]\n        else\n            screeninput = \"\"\n        end\n    else\n        if screenoutput == \">\" then\n            --next key\n            if page < NBKeys then\n                page = page + 1\n                screeninput = \"KEY: \" .. DBKeys[page]\n            else\n                screeninput = \"\"\n            end\n        else\n            if screenoutput == \"KEYOK\" then\n                --accepted key, send val\n                screeninput = \"VAL: \" .. databank.getStringValue(DBKeys[page])\n            else\n                --command not understood\n            end\n        end\n    end\nend\nscreen.setScriptInput(screeninput)\nscreen.clearScriptOutput()\nsystem.print(\"Screen OUT: \" .. screenoutput)\nsystem.print(\"Screen IN: \" .. screeninput)","filter":{"args":[{"variable":"*"}],"signature":"onOutputChanged(output)","slotKey":"0"},"key":"0"},{"code":"DBKeys = json.decode(databank.getKeys())\nNBKeys = databank.getNbKeys()\nscreen.activate()\nlocal screenoutput = screen.getScriptOutput()\nlocal screeninput = \"\"\nscreen.setScriptInput(\"?\")\nscreen.clearScriptOutput()\npage = 1\n\n\nsystem.print(\"Screen OUT: \" .. screenoutput)\nsystem.print(\"Screen IN: \" .. screeninput)","filter":{"args":[],"signature":"start()","slotKey":"-1"},"key":"1"}],"methods":[],"events":[]}